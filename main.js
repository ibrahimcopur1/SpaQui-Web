const viewer = new Cesium.Viewer('cesiumContainer', {
    imageryProvider: new Cesium.TileMapServiceImageryProvider({
      url: Cesium.buildModuleUrl("Assets/Textures/NaturalEarthII"),
    }),
    baseLayerPicker: false, geocoder: false, homeButton: false, infoBox: false,
    navigationHelpButton: false, sceneModePicker: false
  });
  viewer.scene.globe.enableLighting = true;

//tle tanÄ±mlama 
let uydu = [
    {tle1:`1 00694U 63047A   21275.16931324  .00000577  00000-0  61637-4 0  9991`, tle2: `2 00694  30.3576 172.9714 0584716 323.3578  32.8356 14.02886414903005`},
    {tle1:`1 00733U 64002A   21275.73491313  .00000043  00000-0  33300-4 0  9993`, tle2: `2 00733  98.9771 190.6439 0032898 296.0844  63.6953 14.32457331  6855`},
    {tle1:`1 02802U 67045B   21275.03210665  .00000046  00000-0  21111-4 0  9994`, tle2: `2 02802  74.0108 127.6577 0066284 165.9515 194.3506 14.43823421855184`},
    {tle1:`1 03230U 68040B   21275.55582565  .00000465  00000-0  50788-4 0  9991`, tle2: `2 03230  74.0374 342.6606 0031278 238.5317 121.2807 14.90876183869182`},
    {tle1:`1 03597U 68110A   21275.75046976  .00000064  00000-0  22867-4 0  9990`, tle2: `2 03597  34.9940 292.0718 0005768 196.7963 163.2537 14.45894160785044`},
    {tle1:`1 03669U 69009A   21275.06058079  .00000032  00000-0  53920-5 0  9999`, tle2: `2 03669  88.4329 334.4534 1712712 116.0361 262.6858 11.29513417165626`},
    {tle1:`1 04327U 70009A   21275.51686590 -.00000013  00000-0  37416-4 0  9999`, tle2: `2 04327  99.1410 297.3955 0004797   4.4440 161.1690 13.58502739560430`},
    {tle1:`1 04814U 70113B   21275.39545311  .00003242  00000-0  87841-4 0  9990`, tle2: `2 04814  81.1407 309.3278 0024473  85.1448 275.2585 15.37014886775031`},
    {tle1:`1 05118U 71028B   21275.48782181  .00001619  00000-0  82472-4 0  9993`, tle2: `2 05118  81.2559 154.0221 0047532  63.4603 297.1486 15.15184760741563`},
    {tle1:`1 05560U 71089A   21275.74812608  .00000147  00000-0  39535-4 0  9995`, tle2: `2 05560  92.7210 349.1363 0017859 135.0459 225.2195 14.48155947628117`},
    {tle1:`1 05730U 71119B   21275.20538287  .00001818  00000-0  11696-3 0  9990`, tle2: `2 05730  73.8916 238.0938 0683817 170.7032 190.7566 14.05700663425701`},
    {tle1:`1 22675U 93036A   21276.17839191  .00000002  00000-0  10243-4 0  9996`, tle2: `2 22675  74.0390 232.5178 0025684 327.3669  32.5893 14.32581635478700`},
    {tle1:`1 33757U 93036E   21275.93198604  .00000009  00000-0  13015-4 0  9996`, tle2: `2 33757  74.0357 238.5715 0016150 267.6658 151.8315 14.32058642660659`},
    {tle1:`1 33758U 93036F   21276.13782368  .00000657  00000-0  21990-3 0  9995`, tle2: `2 33758  74.0346 183.6713 0022645 263.5060 204.8828 14.39216770662547`},
    {tle1:`1 33759U 93036G   21275.87584986  .00001921  00000-0  48603-3 0  9997`, tle2: `2 33759  74.0187  79.2738 0020603 203.7024 269.0594 14.51511104665680`},
    {tle1:`1 33760U 93036H   21275.94086128  .00000049  00000-0  26800-4 0  9998`, tle2: `2 33760  74.0332 209.0316 0021572 318.9012 113.3514 14.34332255661544`},
    {tle1:`1 33761U 93036J   21275.92821785  .00000346  00000-0  12588-3 0  9990`, tle2: `2 33761  74.0396 197.8437 0025907 294.1597 137.0558 14.36764694662003`},
    {tle1:`1 33762U 93036K   21275.92077179  .00000020  00000-0  16818-4 0  9991`, tle2: `2 33762  74.0414 228.7286 0016388 305.9027 109.9335 14.33010825661011`},
    {tle1:`1 33763U 93036L   21275.66056935  .00003904  00000-0  76416-3 0  9993`, tle2: `2 33763  73.9340 336.4125 0011282  99.5354  59.2218 14.63137182667713`},
    {tle1:`1 33764U 93036M   21275.93924845  .00000226  00000-0  87731-4 0  9995`, tle2: `2 33764  74.0359 209.4504 0025165 189.9443 236.5122 14.35325278661547`},
    {tle1:`1 33765U 93036N   21275.81223556  .00001475  00000-0  25762-3 0  9996`, tle2: `2 33765  74.0164 296.6282 0157524  55.7484 116.9654 14.61045606670165`},
    {tle1:`1 33766U 93036P   21275.77731160  .00000329  00000-0  13623-3 0  9997`, tle2: `2 33766  74.1913  20.4857 0070248 296.1388  63.2547 14.29091398658266`},
    {tle1:`1 33768U 93036R   21275.86528046 -.00000025  00000-0 -12898-5 0  9996`, tle2: `2 33768  74.0719 166.8887 0373940 304.3310 124.8412 13.56213679625133`},
    {tle1:`1 33770U 93036T   21275.73917963  .00002964  00000-0  63598-3 0  9998`, tle2: `2 33770  74.0349  15.7295 0029142 106.6053  49.9142 14.58828020667216`},
    {tle1:`1 33779U 93036U   21275.81938550  .00001417  00000-0  43167-3 0  9993`, tle2: `2 33779  74.0489 175.8050 0031388 237.1319 184.1272 14.42631056662908`},
    {tle1:`1 33782U 93036X   21275.89739014  .00000367  00000-0  13713-3 0  9996`, tle2: `2 33782  74.0359 215.8602 0023903 296.0600 120.3073 14.35241471661187`},
    {tle1:`1 33784U 93036Z   21275.53773712  .00001412  00000-0  25309-3 0  9998`, tle2: `2 33784  74.1983 306.1401 0056526 249.1470 272.1513 14.66749262673166`},
    {tle1:`1 33785U 93036AA  21275.93281597  .00001072  00000-0  32984-3 0  9997`, tle2: `2 33785  73.8804  94.7019 0032286 356.6455 165.5139 14.42498962662714`},
    {tle1:`1 33789U 93036AE  21275.92672214  .00000188  00000-0  14584-3 0  9993`, tle2: `2 33789  74.0654 159.1495 0248621 269.2488 101.1763 13.85688618638587`},
    {tle1:`1 33791U 93036AG  21275.83735294  .00000435  00000-0  16309-3 0  9996`, tle2: `2 33791  74.1763 313.1217 0035003 219.5358 314.7473 14.34230928660383`},
    {tle1:`1 33792U 93036AH  21276.08028024  .00000229  00000-0  24970-3 0  9995`, tle2: `2 33792  73.8988 263.4401 0442306 241.3778 186.5234 13.42539796618722`},


]

const date = new Date();
const gmst = satellite.gstime(date);
const positionsOverTime = new Cesium.SampledPositionProperty();

for(i = 0; i <= uydu.length; i++){
    const satrec = satellite.twoline2satrec(uydu[i].tle1, uydu[i].tle2);
    const pnv = satellite.propagate(satrec, date);
    const position = satellite.eciToGeodetic(pnv.position, gmst);

    const satellitePoint = viewer.entities.add({position: Cesium.Cartesian3.fromRadians(position.longitude, position.latitude, position.height * 1000),
        point: { pixelSize: 5, color: Cesium.Color.RED }
      });
      
}




